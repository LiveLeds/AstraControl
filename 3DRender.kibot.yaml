# Blender 3D render
kibot:
  version: 1

globals:
  resources_dir: Resources
  solder_mask_color: black
  pcb_finish: ENIG

outputs:
  - name: _blender_3d@_KIBOT_IMPORT_ID@
    comment: "HQ 3D Render of the PCB"
    type: blender_export
    dir: @_KIBOT_IMPORT_DIR@
    options:
      camera:
        name: Camera
        pos_x: 0.3
        pos_y: width*2
        pos_z: size*3
      render_options:
        transparent_background: true
        samples: 50
        resolution_x: 1080
        resolution_y: 1080
      point_of_view:
        rotate_x: @_KIBOT_ROT_X@
        rotate_y: @_KIBOT_ROT_Y@
        rotate_z: @_KIBOT_ROT_Z@
        view: @_KIBOT_3D_VIEW@
        file_id: @_KIBOT_3D_FILE_ID@
      light:
        # [number=0] How powerful is the light. Using 0 for POINT and SUN KiBot will try to use something useful
        - energy: 0
          # [string='POINT'] [POINT,SUN,SPOT,HEMI,AREA] Type of light. SUN lights will illuminate more evenly
          type: 'POINT'
      outputs:
        - type: blender
        - type: render

...
definitions:
  _KIBOT_IMPORT_ID: '_top'
  _KIBOT_IMPORT_DIR: 'Render_3D'
  _KIBOT_3D_VIEW: top
  _KIBOT_3D_FILE_ID: '@_KIBOT_IMPORT_ID@'
  _KIBOT_ROT_X: 30
  _KIBOT_ROT_Z: -20
  _KIBOT_ROT_Y: 0